{"ast":null,"code":"import axios from \"axios\";\nconst requests = axios.create({\n  baseURL: \"/api\",\n  timeout: 1000000\n});\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      prompt: \"Type here\",\n      answer: 1,\n      image: ''\n    };\n  },\n  methods: {\n    async getPicture() {\n      this.answer = 0;\n      try {\n        /*requests.get('/').then((response) => {\n          window.console.log(response)\n          this.answer = response.data\n        })*/\n        requests.get('/image', {\n          params: {\n            //有参数时\n            prompt: this.prompt\n          }\n        }).then(response => {\n          //window.console.log(response)\n          window.console.log(response.data.datas);\n          this.image = \"data:image/png;base64,\" + response.data.datas;\n          window.console.log(this.image);\n          this.answer = 1;\n        });\n      } catch (error) {\n        this.answer = 'Error! Could not reach the API. ' + error;\n      }\n    },\n    generate() {\n      window.console.log(this.prompt);\n      this.getPicture();\n    }\n  },\n  mounted() {}\n};","map":{"version":3,"names":["axios","requests","create","baseURL","timeout","name","props","msg","String","data","prompt","answer","image","methods","getPicture","get","params","then","response","window","console","log","datas","error","generate","mounted"],"sources":["/home/xh/vue-pic/src/components/HelloWorld.vue"],"sourcesContent":["<template>\n  <div class=\"hello\">\n    <h1>{{ msg }}</h1>\n    <p>\n      欢迎加入qq群（qq群号:337087493）进行学习交流探讨\n    </p>\n    <p>\n      请在下面文本框输入详细的描述性文字（prompt）来生成你想要的图片\n    </p>\n    <input v-model=\"prompt\" placeholder=\"Type here\" :style=\"{ width: '1200px', height: '20px' }\">\n    <!--<button @click=\"question()\">生成</button>-->\n    <button @click=\"generate\">生成图片</button>\n    <p v-if=\"!answer\">Loading...</p>\n    <img v-if=\"!answer\" :src=\"require('@/assets/loading.gif')\" alt=\"loading GIF\">\n    <img  :src=\"image\">\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\n\nconst requests = axios.create({\n  baseURL: \"/api\",\n  timeout: 1000000,\n});\n\nexport default {\n  name: 'HelloWorld',\n  props: {\n    msg: String\n  },\n  data() {\n    return {\n      prompt: \"Type here\",\n      answer: 1,\n      image: ''\n    }\n  },\n\n  methods: {\n    async getPicture() {\n      this.answer = 0\n      try {\n      /*requests.get('/').then((response) => {\n        window.console.log(response)\n        this.answer = response.data\n      })*/\n      requests.get('/image',{\n        params: {    //有参数时\n        prompt: this.prompt\n      }\n      }).then((response) => {\n        //window.console.log(response)\n        window.console.log(response.data.datas)\n        this.image = \"data:image/png;base64,\"+ response.data.datas\n        window.console.log(this.image)\n        this.answer = 1\n      })\n      } catch (error) {\n        this.answer = 'Error! Could not reach the API. ' + error\n      }\n    },\n    generate(){  \n        window.console.log(this.prompt)\n        this.getPicture()\n    }\n  },\n  mounted() {\n  }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\ninput {\n  font-size: 16px;  /* 设置字体大小 */\n  border-radius: 4px; /* 设置圆角半径 */\n  padding: 4px; /* 设置内边距 */\n  border: 2px solid gray; /* 边框设置 */\n}\n</style>\n"],"mappings":"AAmBA,OAAOA,KAAI,MAAO,OAAO;AAEzB,MAAMC,QAAO,GAAID,KAAK,CAACE,MAAM,CAAC;EAC5BC,OAAO,EAAE,MAAM;EACfC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,KAAK,EAAE;IACLC,GAAG,EAAEC;EACP,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,MAAM,EAAE,WAAW;MACnBC,MAAM,EAAE,CAAC;MACTC,KAAK,EAAE;IACT;EACF,CAAC;EAEDC,OAAO,EAAE;IACP,MAAMC,UAAUA,CAAA,EAAG;MACjB,IAAI,CAACH,MAAK,GAAI;MACd,IAAI;QACJ;;;;QAIAV,QAAQ,CAACc,GAAG,CAAC,QAAQ,EAAC;UACpBC,MAAM,EAAE;YAAK;YACbN,MAAM,EAAE,IAAI,CAACA;UACf;QACA,CAAC,CAAC,CAACO,IAAI,CAAEC,QAAQ,IAAK;UACpB;UACAC,MAAM,CAACC,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACT,IAAI,CAACa,KAAK;UACtC,IAAI,CAACV,KAAI,GAAI,wBAAwB,GAAEM,QAAQ,CAACT,IAAI,CAACa,KAAI;UACzDH,MAAM,CAACC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACT,KAAK;UAC7B,IAAI,CAACD,MAAK,GAAI;QAChB,CAAC;MACD,EAAE,OAAOY,KAAK,EAAE;QACd,IAAI,CAACZ,MAAK,GAAI,kCAAiC,GAAIY,KAAI;MACzD;IACF,CAAC;IACDC,QAAQA,CAAA,EAAE;MACNL,MAAM,CAACC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,MAAM;MAC9B,IAAI,CAACI,UAAU,CAAC;IACpB;EACF,CAAC;EACDW,OAAOA,CAAA,EAAG,CACV;AACF"},"metadata":{},"sourceType":"module","externalDependencies":[]}